


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <script src="https://kit.fontawesome.com/134da7a391.js" crossorigin="anonymous"></script>


    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
    <style>

*{
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}





#call{
    margin-top: 15px;
}

#inform{
    margin-bottom: 19px;
}

#hr{
    color: gold;
    height: 5px;
    width: 100%;

}


.inp{
    width: 98%;
    margin-top: 5px;
    padding: 6px;
    background-color: rgb(67, 57, 57);
    color: white;
    font-size: 22px;
}
.lab{
    font-weight: 600;
    text-transform: uppercase;
    margin-top: 15px;
    float: left;
    
}
.inpu{
    width: 47%;
}
.btn{
    background-color: orange;
    color: black;
    font-weight: 600;
    letter-spacing: 2px;
    margin-top: 20px;
    width: 95%;
}
#call{
    color: aqua;
}

.far,.fas{
    width: 29px;
}
</style>
</head>
<body>

    <form class="container form-control mt-2 bg-dark text-success" action="" id="reg">
            
        <label for="Name" class="lab">Name: </label><br>
        <input type="text" name="Name"  class="inp" placeholder="enter name" id="name">
        <label for="Email" class="lab">Email: </label><br>
        <input type="email" name="Email"  class="inp" placeholder="enter email" id="email">
        <label for="phone" class="lab">Phone number: </label><br>
        <input type="number" name="phone"  class="inp" placeholder="phone number" id="phone">
        



        <button type="submit" class="btn ">STORE TO LOCAL STORAGE</button>
        
        
    
        </form>

        <div class="container-fluid table-responsive-md">

            <h1 class="text-center text-success mt-3"> user details </h1>
    
            <table class="table table-bordered table-striped table-dark table-hover    " id="tab">

                <thead>
                    <tr>
                    
                    <th>NAME</th>
                    <th>Email</th>
                    <th>Phone</th>
                    
                    </tr>
                    </thead>

                    <tbody id="tablebody">


                        
       

                        </tbody>

            </table>

    
        </div>

    
    
    
       <script  >

let Name=document.querySelector('#name')
let Email=document.querySelector('#email')
let Phone=document.querySelector('#phone')
let tab=document.querySelector("#tablebody")

let rem=document.querySelector('#tablebody')

let form=document.querySelector('#reg')

let Namedata=document.querySelector('#namedata')
let Emaildata=document.querySelector('#emaildata')
let Phonedata=document.querySelector('#phonedata')






// form submit store in localstorage




    form.addEventListener('submit',(e)=>{


        e.preventDefault()
    
    if(!localStorage[phone.value]){
        
    
    
    let obj={
        "name":Name.value,
        "email":Email.value,
        "phone":Phone.value
    }
    
    
    localStorage.setItem(Phone.value,JSON.stringify(obj))
    
    
    
    
    
    
    Name.value=""
    Phone.value=''
    Email.value=''
    
    
    location.reload()
    
    }
    
    else{
        alert("phone number already exist")
    }
    
    
    })

    //////////






    // display in frontend
    
    let keydata=Object.keys(localStorage)

    let loc=''
    
    
    for(let datakeys of keydata){
    
    
    let data=JSON.parse(localStorage[datakeys])
    
        loc+=`
        
        <tr class="table-danger" >
            <th id="namedata">${data.name}</th>
            <th id="emaildata">${data.email}</th>
            <th id="phonedata">${data.phone}</th>
<th> <button class="btn btn-danger removebtn far fa-times float-right btn-sm delete" id=${data.phone}  ></button><button class="mr-2 btn btn-warning  btn-sm text-white bg-dark fas fa-edit float-right" id=${data.phone}></button> 
</th>
        </tr>
        `
    }
    
    tab.innerHTML=loc


    //




rem.addEventListener('click',(e)=>{
    
if(e.target.classList.contains('far')){

    let removeitem= e.target.id;

    localStorage.removeItem(removeitem)

    location.reload()

    
}


})


rem.addEventListener('click',(e)=>{
    if(e.target.classList.contains('fas')){

        

let selector=e.target.parentElement.parentElement

let nametxt=selector.querySelector('#namedata').textContent
let emailtxt=selector.querySelector('#emaildata').textContent
let phonetxt=selector.querySelector('#phonedata').textContent




Name.value=nametxt
Email.value=emailtxt
Phone.value=phonetxt

localStorage.removeItem(e.target.id)
        
        
    }
})
    


    

   

       </script>
</body>
</html>


